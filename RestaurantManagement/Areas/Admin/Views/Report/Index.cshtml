@{
    ViewData["Title"] = "Báo cáo tổng quan";
    Layout = "_AdminLayout";
}

<h2 class="mb-4">📊 Báo cáo tổng quan</h2>

<div class="row mb-4">
    <div class="col-md-4">
        <div class="card shadow-sm border-0 bg-light">
            <div class="card-body text-center">
                <h6 class="text-muted">Doanh thu hôm nay</h6>
                <h3 class="text-success fw-bold">@ViewBag.TotalRevenueToday.ToString("N0") <small class="fs-6">VNĐ</small></h3>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card shadow-sm border-0 bg-light">
            <div class="card-body text-center">
                <h6 class="text-muted">Doanh thu tháng</h6>
                <h3 class="text-primary fw-bold">@ViewBag.TotalRevenueMonth.ToString("N0") <small class="fs-6">VNĐ</small></h3>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card shadow-sm border-0 bg-light">
            <div class="card-body text-center">
                <h6 class="text-muted">Đơn hàng hôm nay</h6>
                <h3 class="text-dark fw-bold">@ViewBag.TotalOrdersToday <small class="fs-6">đơn</small></h3>
            </div>
        </div>
    </div>
</div>

<div class="row mb-4">
    <div class="col-md-6">
        <div class="card shadow-sm border-start border-3 border-success">
            <div class="card-body">
                <h6 class="text-muted mb-2">Món ăn bán chạy nhất</h6>
                @if (ViewBag.TopMenuItem != null)
                {
                    <h5 class="fw-bold">@ViewBag.TopMenuItem.Name</h5>
                    <p>Số lượng bán: <span class="fw-semibold">@ViewBag.TopMenuItem.Quantity</span></p>
                }
                else
                {
                    <p class="text-muted">Chưa có dữ liệu.</p>
                }
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card shadow-sm border-start border-3 border-warning">
            <div class="card-body">
                <h6 class="text-muted mb-2">Đánh giá trung bình</h6>
                <h4 class="text-warning fw-bold">
                    @ViewBag.FeedbackAvg.ToString("0.0") ★ <small class="text-muted fs-6">/ 5</small>
                </h4>
            </div>
        </div>
    </div>
</div>

<hr class="my-4" />
<h4 class="mb-3">📁 Báo cáo chi tiết</h4>
<div class="list-group shadow-sm">
    <a asp-area="Admin" asp-action="RevenueReport" class="list-group-item list-group-item-action">📈 Báo cáo doanh thu</a>
    <a asp-area="Admin" asp-action="OrderReport" class="list-group-item list-group-item-action">📋 Báo cáo đơn hàng</a>
    <a asp-area="Admin" asp-action="StaffReport" class="list-group-item list-group-item-action">👨‍🍳 Báo cáo nhân viên</a>
    <a asp-area="Admin" asp-action="CanceledOrders" class="list-group-item list-group-item-action">❌ Đơn hàng bị huỷ</a>
    <a asp-area="Admin" asp-action="RemovedOrderItems" class="list-group-item list-group-item-action">❎ Món bị gỡ khỏi đơn</a>
</div>

<div class="mt-4">
    <a asp-area="Admin" asp-controller="Dashboard" asp-action="Index" class="btn btn-light">← Quay lại</a>
</div>
